# gh-pr-summary ルール

## 概要
現在チェックアウト中のブランチに紐づくプルリクエスト（PR）の内容や差分を取得し、変更の要点やレビュー注目箇所をプロンプトで自動生成するワークフローです。

---

## 使い方
1. 対象のブランチを `git checkout` でチェックアウトする。  
2. 次のプロンプトを入力するだけで、PR情報の取得から要約までが実施されます：

このブランチのPR内容と差分を確認し、変更点と影響、レビューすべきポイントを要約してください。

---

## 実行フロー（自動処理）
1. `git branch --show-current` で現在のブランチ名を取得  
2. `gh pr view` によって、チェックアウト中ブランチに紐づく PR のタイトル・本文・状態などを取得
3. `gh pr diff` で PR の差分（diff）を取得{index=2}  
4. 取得した情報をもとに、目的・主な変更点・影響範囲などを日本語で要約

---

## 注意事項
- `gh` CLI のインストールが必要です。  
- GitHub 認証済み（例：`gh auth login`）が前提です。  
- `gh pr view` と `gh pr diff` の出力は、デフォルトで PAGER を利用して表示されます。表示に問題が生じた場合は、`PAGER=cat` を使うことで安定表示させることが可能です 。

---

## 例（プロンプト使用例）
このブランチで作成されているプルリクエストの内容と差分をチェックし、どのような変更が行われたかまとめてください。また、レビューで重点的に見てもらうべき箇所に関しても提案してください。

---

## 効果
- PR 作成後すぐに要約やレビュー観点を AI で提示でき、レビュー効率が向上します。  
- 手動記述や見落としが減り、品質も安定します。

---

### GitHub CLI コマンド参照
- `gh pr view` は、現在のブランチに紐づく PR を表示する標準コマンドです（タイトル、本文など）。  
- `gh pr diff` は、PR の差分を表示するコマンドです
- `gh pr status` も状況把握に便利ですが、要約取得には `view` や `diff` を使います。

